(this["webpackJsonphandpose-app"]=this["webpackJsonphandpose-app"]||[]).push([[0],{281:function(e,r,n){},287:function(e,r){},288:function(e,r){},296:function(e,r){},299:function(e,r){},300:function(e,r){},301:function(e,r,n){},302:function(e,r,n){"use strict";n.r(r);var i=n(39),t=n(44),l=n(232),c=n.n(l),a=(n(281),n(4)),u=n.n(a),d=n(6),s=n(11),o=n(144),g=n(252),h=n.n(g),f=(n(301),n(253)),C=n(254),j=n(22),F=new j.GestureDescription("0"),p=new j.GestureDescription("1"),b=new j.GestureDescription("2"),x=new j.GestureDescription("3"),m=new j.GestureDescription("4"),v=new j.GestureDescription("5");F.addCurl(j.Finger.Thumb,j.FingerCurl.FullCurl,1),F.addCurl(j.Finger.Index,j.FingerCurl.FullCurl,1),F.addCurl(j.Finger.Middle,j.FingerCurl.FullCurl,1),F.addCurl(j.Finger.Ring,j.FingerCurl.FullCurl,1),F.addCurl(j.Finger.Pinky,j.FingerCurl.FullCurl,1),p.addCurl(j.Finger.Thumb,j.FingerCurl.HalfCurl,1),p.addCurl(j.Finger.Index,j.FingerCurl.NoCurl,1),p.addDirection(j.Finger.Index,j.FingerDirection.VerticalUp,1),p.addCurl(j.Finger.Middle,j.FingerCurl.FullCurl,1),p.addCurl(j.Finger.Ring,j.FingerCurl.FullCurl,1),p.addCurl(j.Finger.Pinky,j.FingerCurl.FullCurl,1),b.addCurl(j.Finger.Thumb,j.FingerCurl.HalfCurl,1),b.addCurl(j.Finger.Index,j.FingerCurl.NoCurl,1),b.addDirection(j.Finger.Index,j.FingerDirection.VerticalUp,1),b.addCurl(j.Finger.Middle,j.FingerCurl.NoCurl,1),b.addDirection(j.Finger.Middle,j.FingerDirection.VerticalUp,1),b.addCurl(j.Finger.Ring,j.FingerCurl.FullCurl,1),b.addCurl(j.Finger.Pinky,j.FingerCurl.FullCurl,1),x.addCurl(j.Finger.Thumb,j.FingerCurl.HalfCurl,1),x.addCurl(j.Finger.Index,j.FingerCurl.NoCurl,1),x.addDirection(j.Finger.Index,j.FingerDirection.VerticalUp,1),x.addCurl(j.Finger.Middle,j.FingerCurl.NoCurl,1),x.addDirection(j.Finger.Middle,j.FingerDirection.VerticalUp,1),x.addCurl(j.Finger.Ring,j.FingerCurl.NoCurl,1),x.addDirection(j.Finger.Ring,j.FingerDirection.VerticalUp,1),x.addCurl(j.Finger.Pinky,j.FingerCurl.FullCurl,1),m.addCurl(j.Finger.Thumb,j.FingerCurl.HalfCurl,1),m.addCurl(j.Finger.Index,j.FingerCurl.NoCurl,1),m.addDirection(j.Finger.Index,j.FingerDirection.VerticalUp,1),m.addCurl(j.Finger.Middle,j.FingerCurl.NoCurl,1),m.addDirection(j.Finger.Middle,j.FingerDirection.VerticalUp,1),m.addCurl(j.Finger.Ring,j.FingerCurl.NoCurl,1),m.addDirection(j.Finger.Ring,j.FingerDirection.VerticalUp,1),m.addCurl(j.Finger.Pinky,j.FingerCurl.NoCurl,1),m.addDirection(j.Finger.Pinky,j.FingerDirection.VerticalUp,1),v.addCurl(j.Finger.Thumb,j.FingerCurl.NoCurl,1),v.addCurl(j.Finger.Index,j.FingerCurl.NoCurl,1),v.addCurl(j.Finger.Middle,j.FingerCurl.NoCurl,1),v.addCurl(j.Finger.Ring,j.FingerCurl.NoCurl,1),v.addCurl(j.Finger.Pinky,j.FingerCurl.NoCurl,1);var w=["M","L","H"],O=new j.GestureEstimator([F,p,b,x,m,v]),y=function(e,r,n,i,t){var l=e.width,c=e.height;i.clearRect(0,0,l,c),i.fillStyle="green",i.strokeStyle="rgba(171, 235, 52, 1)",N(e,n,i);for(var a=new Array(21),u=0;u<21;u++)a[u]=[n[u].x*l,n[u].y*c,0];var d=O.estimate(a,7.5),s=null;if(void 0!==d.gestures&&d.gestures.length>0){var g=-1,h=-1;d.gestures.forEach((function(e,r){e.confidence>g&&(g=e.confidence,h=r)}));var f=d.gestures[h].name;s=f}else t.current.innerText="Found hand But gesture not recognized";if(n.length>0){var C=1,j=0,F=1,p=0;n.forEach((function(e){e.x<C&&(C=e.x),e.x>j&&(j=e.x),e.y<F&&(F=e.y),e.y>p&&(p=e.y)}));var b=((C*=l)+(j*=l))/2,x=((F*=c)+(p*=c))/2,m=[.5,.9,1.2],v=new Array(m.length),y=new Array(m.length),R=0;m.forEach((function(e){var r=Math.max((j-C)*e,(p-F)*e),n=Math.max(0,b-r),t=Math.max(0,x-r);i.drawImage(window.webcamEl,n,t,2*r,2*r,0,0,64,64);for(var l=i.getImageData(0,0,64,64),c=new Float32Array(12288),a=0,u=0;u<16384;u++)u%4!==3&&(u%4===2&&(c[a-2]=l.data[u]/255),u%4===1&&(c[a]=l.data[u]/255),u%4===0&&(c[a+2]=l.data[u]/255),a+=1);var d=o.c(c,[1,64,64,3],"float32");if(null===window.recognizer)return[s,null];for(var g=window.recognizer.predict(d).bufferSync().values,h=0,f=-1,m=0;m<g.length;m++)g[m]>h&&(h=g[m],f=m);y[R]=h,v[R]=f,R+=1}));for(var D=y[0],k=v[0],M=1;M<R;M++)D<y[M]&&(D=y[M],k=v[M]);return i.lineWidth=5,i.strokeRect(C,F,j-C,p-F),[s,w[k]]}},N=function(e,r,n){if(0!==r.length){var i=[{range:[1,4],color:"red"},{range:[5,8],color:"blue"},{range:[9,12],color:"yellow"},{range:[13,16],color:"orange"},{range:[17,20],color:"lime"}];i.forEach((function(i){for(var t=i.range[0];t<i.range[1];t++){var l=r[t].x*e.width,c=r[t].y*e.height;n.beginPath(),n.arc(l,c,5,0,3*Math.PI),n.fillStyle=i.color,n.fill(),n.moveTo(l,c);var a=r[t+1].x*e.width,u=r[t+1].y*e.height;n.lineTo(a,u),n.lineWidth=3,n.strokeStyle=i.color,n.stroke(),n.arc(a,u,5,0,3*Math.PI),n.fillStyle=i.color,n.fill()}}));var t=r[0].x*e.width,l=r[0].y*e.height;i.forEach((function(i){var c=r[i.range[0]].x*e.width,a=r[i.range[0]].y*e.height;n.moveTo(t,l),n.lineTo(c,a),n.lineWidth=3,n.strokeStyle="white",n.stroke()}))}},R=function(e,r){e.strokeStyle="tomato",e.lineWidth=5,e.strokeRect(0,0,e.canvas.width,e.canvas.height),r.current.innerText="No Prediction"};var D=function(){var e=Object(t.useRef)(null),r=Object(t.useRef)(null),n=Object(t.useRef)(!0),l=Object(t.useRef)(null),c=Object(t.useRef)(null),a=Object(t.useRef)(null),g=Object(t.useRef)(null),j=Object(t.useRef)([]),F=Object(t.useRef)([]),p=Object(t.useRef)(null),b=Object(t.useRef)(null),x=Object(t.useRef)(null),m=Object(t.useRef)(null),v=Object(t.useRef)(null),w=Object(t.useRef)(null),O=Object(t.useRef)(null),N=Object(t.useRef)(null),D=Object(t.useRef)(null);window.webcamEl=null,window.recognizer=null;var k=function(e){var r=j.current;if(r.length<16)return r.push(e);r.shift(),r.push(e);for(var n,i=!0,t=[0,0,0,0,0,0],l=0;l<10;l++)t[parseInt(r[l])]++,r[l]!==e&&(i=!1);n=t,p.current.style.height=n[0]/15*300+"px",b.current.style.height=n[1]/15*300+"px",x.current.style.height=n[2]/15*300+"px",m.current.style.height=n[3]/15*300+"px",v.current.style.height=n[4]/15*300+"px",w.current.style.height=n[5]/15*300+"px",i&&(a.current.innerText=e+" is the best numeric guess from 1 to 5")},M=function(e){var r=F.current;if(r.length<16)return r.push(e);r.shift(),r.push(e);for(var n,i=!0,t=[0,0,0],l=0;l<10;l++){if("M"===r[l])t[0]++;else if("L"===r[l])t[1]++;else{if("H"!==r[l])return;t[2]++}r[l]!==e&&(i=!1)}n=t,O.current.style.height=n[0]/15*300+"px",N.current.style.height=n[1]/15*300+"px",D.current.style.height=n[2]/15*300+"px",i&&(a.current.innerText=e+" is the best numeric guess from 1 to 5")},T=function(){var e=Object(s.a)(u.a.mark((function e(r){var n,i,t,l,s,o,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.current.getContext("2d"),i=c.current,n.save(),n.clearRect(0,0,i.width,i.height),r.multiHandLandmarks&&r.multiHandedness)for(t=0;t<r.multiHandLandmarks.length;t++)l=y(r.image,r.multiHandedness[t],r.multiHandLandmarks[t],n,a),s=Object(d.a)(l,2),o=s[0],h=s[1],k(o),M(h);else R(n,a),R(n,g);n.restore();case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(u.a.mark((function e(r){var n,i,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"undefined"!==typeof l.current&&null!==l.current&&4===l.current.video.readyState&&(window.webcamEl=l.current.video,n=l.current.video,i=l.current.video.videoWidth,t=l.current.video.videoHeight,n.width=i,n.height=t,c.current.width=i,c.current.height=t,null===H&&(console.log("setting up mediapipe camera for the first time"),(H=new f.Camera(n,{onFrame:function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.current_screenshot=n,e.next=3,r.send({image:n});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:640,height:480})).start()));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),H=null,P=function(){var e=Object(s.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("setting up widgets"),(r=new C.Hands({locateFile:function(e){return"https://cdn.jsdelivr.net/npm/@mediapipe/hands/".concat(e)}})).setOptions({maxNumHands:1,minDetectionConfidence:.8,minTrackingConfidence:.8}),r.onResults(T),e.next=6,o.b("https://aelu419.github.io/TensorFlowPlayground/asl_cnn/model.json");case 6:window.recognizer=e.sent,window.recognizer.add(o.a.softmax()),console.log(window.recognizer),setInterval((function(){I(r)}),1e3);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(t.useEffect)((function(){P()}),[]),Object(i.jsxs)("div",{className:"App",children:[Object(i.jsxs)("header",{children:[Object(i.jsx)(h.a,{ref:l,className:"webcam"}),Object(i.jsx)("canvas",{ref:c,className:"canvas"})]}),Object(i.jsxs)("div",{className:"blog-slider",children:[Object(i.jsx)("p",{style:{textAlign:"center"},children:"Spread you hand towards the camera like a 5 to calibrate"}),Object(i.jsxs)("div",{ref:e,className:"numContainer",children:[Object(i.jsx)("h4",{ref:a,style:{textAlign:"center"},children:"No Prediction"}),Object(i.jsxs)("div",{className:"colContainer",children:[Object(i.jsx)("div",{ref:p,className:"col",children:Object(i.jsx)("p",{children:"0"})}),Object(i.jsx)("div",{ref:b,className:"col",children:Object(i.jsx)("p",{children:"1"})}),Object(i.jsx)("div",{ref:x,className:"col",children:Object(i.jsx)("p",{children:"2"})}),Object(i.jsx)("div",{ref:m,className:"col",children:Object(i.jsx)("p",{children:"3"})}),Object(i.jsx)("div",{ref:v,className:"col",children:Object(i.jsx)("p",{children:"4"})}),Object(i.jsx)("div",{ref:w,className:"col",children:Object(i.jsx)("p",{children:"5"})})]})]}),Object(i.jsxs)("div",{ref:r,className:"letterContainer hidden",children:[Object(i.jsx)("h4",{ref:g,style:{textAlign:"center"},children:"No Prediction"}),Object(i.jsxs)("div",{className:"colContainer",children:[Object(i.jsx)("div",{ref:O,className:"col",children:"M"}),Object(i.jsx)("div",{ref:N,className:"col",children:"L"}),Object(i.jsx)("div",{ref:D,className:"col",children:"H"})]})]}),Object(i.jsxs)("div",{className:"toggleContainer",children:[Object(i.jsx)("p",{children:"Num Recognition"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"checkbox",id:"switch",onChange:function(){n.current?(e.current.classList.add("hidden"),r.current.classList.remove("hidden")):(r.current.classList.add("hidden"),e.current.classList.remove("hidden")),n.current=!n.current}}),Object(i.jsx)("label",{for:"switch",children:"Toggle"}),Object(i.jsx)("strong",{children:"Toggle Mode"})]}),Object(i.jsx)("p",{children:"letter Recognition"})]})]})]})};c.a.render(Object(i.jsx)(D,{}),document.getElementById("root"))}},[[302,1,2]]]);
//# sourceMappingURL=main.8c9c75e2.chunk.js.map